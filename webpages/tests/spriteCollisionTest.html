<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Sprite Collision Test</title>
    <script type="text/javascript"
            src ="/usr/local/lib/greenhorn.js"></script>
    <script type="text/javascript">
        //adjust Game Enviorment here
        env.IMAGE_PATH = "../images/";
        env.SPRITE_DEFAULT_CONFIG.imageFile = "logo.png";
        env.SPRITE_DEFAULT_CONFIG.width = 128;
        env.SPRITE_DEFAULT_CONFIG.height = 128;
        env.SPRITE_DEFAULT_CONFIG.boundAction = "BOUNCE";
        
        //name Sprites as globally avaliable
        var logo1, logo2;
        
        function init(){
            //initialize Sprites
            //sprite1 = new Sprite({config object}), etc.
            logo1 = new Sprite({x: Math.random() * 200 - 100,
                               y: Math.random() * 200 - 100,
                               dx: Math.random() * 200 - 100,
                               dy: Math.random() * 200 - 100,
                               da: Math.random() * .1 - .05});
            logo2 = new Sprite({x: Math.random() * 200 - 100,
                               y: Math.random() * 200 - 100,
                               dx: Math.random() * 200 - 100,
                               dy: Math.random() * 200  - 100,
                               da: Math.random() * .1 - .05});
            
            //do any page specific setup here
            Greenhorn.set("leftPanel", "innerHTML", logo1.report());
            Greenhorn.set("rightPanel", "innerHTML", logo2.report());
            
            //start the glblScene
            Greenhorn.start();
        }//end init
        
        //create an update function that will be called once per frame
        //inbetween the screen being cleared and the sprites being redrawn
        function update(){
            //handle game specific events here
            //e.g. win or lose conditions
            if (logo1.collidesWith(logo2)) {
                Greenhorn.set("canvas", "style", {backgroundColor: "blue"});
            }//end if
            else {
                Greenhorn.set("canvas", "style", {backgroundColor: "red"});
            }//end else
            
            Greenhorn.set("leftPanel", "innerHTML", logo1.report());
            Greenhorn.set("rightPanel", "innerHTML", logo2.report());
            
            distInfo = "distance: " + logo1.distanceTo(logo2).toFixed(3) + " angle: " + logo1.angleTo(logo2).toFixed(3);
            Greenhorn.set("bottomPanel", "innerHTML", distInfo);
        }//end update
    </script>
</head>
<body onload = "init()"></body>
</html>